<h1>LIST PRODUCT</h1>
<a [routerLink]="['/create-product']" class="btn btn-dark">CREATE</a> <br>

<!-- Button trigger modal -->
<button type="button" class="btn btn-info" data-toggle="modal" data-target="#exampleModal">
  Scan QR Code
</button>

<table class="table table-striped table-hover">
  <thead>
  <tr>
    <th scope="col">ID</th>
    <th scope="col">NAME</th>
    <th scope="col">PRICE</th>
    <th scope="col">CATEGORY</th>
    <th scope="col">EDIT</th>
    <th scope="col">DELETE</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let product of products">
    <td>{{product.id}}</td>
    <td>{{product.name}}</td>
    <td>{{product.price}}</td>
    <td>{{product.category.name}}</td>
    <td>
      <button [routerLink]="['/edit-product',product.id]" class="btn btn-primary">Edit</button>
    </td>
    <td>
      <button class="btn btn-danger" (click)="deleteProduct(product.id)">Delete</button>
    </td>
  </tr>
  </tbody>
</table>


<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <table border="1px solid black" cellpadding="15px">
          <tr>
            <td>Select Scan Type</td>
            <td>
              <select [(ngModel)]="scanType" class="form-control" aria-label="Default select example">
                <option value="LINK">Scan LINK QR CODE</option>
                <option value="SCAN">Scan QR Code</option>
                <option value="CHECK">Check QR Code</option>
              </select></td>
          </tr>
          <tr *ngIf="scanType ==='SCAN'">
            <td>Choose Code</td>
            <td><input type="file" (change)="displayImage($event)"></td>
          </tr>
          <tr *ngIf="scanType ==='CHECK'">
            <td>Choose Code 1</td>
            <td><input type="file" (change)="displayImage($event)"></td>
          </tr>
          <tr *ngIf="scanType ==='CHECK'">
            <td>Choose Code 2</td>
            <td><input type="file" (change)="displayImage2($event)"></td>
          </tr>
          <tr *ngIf="scanType ==='LINK'">
            <td>Input Link</td>
            <td><input type="text" (change)="displayUrl()" [(ngModel)]="link"></td>
          </tr>
          <tr>
            <td>QR CODE 1</td>
            <td><img width="100px" height="100px" id="image1"></td>
          </tr>
          <tr *ngIf="scanType === 'CHECK'">
            <td>QR CODE 2</td>
            <td><img width="100px" height="100px" id="image2"></td>
          </tr>
        </table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" (click)="scanCode()">Scan</button>
      </div>
    </div>
  </div>
</div>
